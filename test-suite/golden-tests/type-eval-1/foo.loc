module m (foo)

-- base types
type Cpp => Int = "int"
type Cpp => List a = "std::vector<$1>" a

-- aliases at the general level
type Stack a = List a
type Vector a = List a

-- but the may be specialized at the concrete level
type Cpp => Stack a = "std::stack<$1>" a

source Cpp from "foo.hpp" ("stackToVector", "vectorToStack", "push")
stackToVector a :: Stack a -> Vector a
vectorToStack a :: Vector a -> Stack a
push a :: a -> Stack a -> Stack a

foo = stackToVector . push 42 . vectorToStack
